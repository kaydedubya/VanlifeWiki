<script src="https://kaydedubya.github.io/VanlifeWiki/jekyllsearch.min.js"></script>
<script>
var sjs = SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '{{ site.url }}/search.json',
        dataSource: '{{ site.url }}/search.json',
        searchResultTemplate: '<li><a href="{url}">{title}</a></li>',
        noResultsText: 'No results found',
        limit: 10,
        fuzzy: false,
      })

function openNav() {
  document.getElementById("index-box").style.width = "250px";
  document.getElementById("index-box-closed").style.right = "250px";
}

function closeNav() {
  document.getElementById("index-box").style.width = "0px";
  document.getElementById("index-box-closed").style.right = "0px";

}
</script>



{% assign catlist = "" | split: "," %}

{% for cposts in site.pages %}
  {% if cposts.categories != nil %}
    {% assign tempcat = cposts.categories | split: "," %}
    {% assign catlist = catlist | concat: tempcat %}
  {% endif %}
{% endfor %}

{% assign catlist = catlist | uniq %}


<div id="index-box">
  <h2><a href="javascript:void(0)" class="index-box-close" onclick="closeNav()">X</a></h2>
  <input type="text" id="search-input" placeholder="search...">

  <ul id="results-container">
  </ul>

  <ul id="index">
    <h3>Categories</h3>
      <li><a href="{{ site.baseurl }}/">Home</a></li>
    {% for cat in catlist %}
      <li><a href="{{ site.baseurl }}/pages/{{cat}}main">{{ cat }}</a></li>
    {% endfor %}
    <li>{{ site.baseurl }}</li>
    <li>{{ site.url }}</li>
  </ul>
</div>

<div id="index-box-closed">
  <h2><a href="javascript:void(0)" class="index-box-close" onclick="openNav()">X</a></h2>
</div>
